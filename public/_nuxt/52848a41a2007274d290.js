(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{372:function(e,t,n){var content=n(380);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("2858be06",content,!0,{sourceMap:!1})},379:function(e,t,n){"use strict";var o=n(372);n.n(o).a},380:function(e,t,n){(t=n(15)(!1)).push([e.i,"ul.drag-inner-list,ul.drag-list{list-style-type:none;margin:0;padding:0}.drag-container{max-width:1000px;margin:20px auto}.drag-list{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start}@media(max-width:690px){.drag-list{display:block}}.drag-column{-webkit-box-flex:1;flex:1;margin:0 10px;position:relative;background:rgba(0,0,0,.2);overflow:hidden}@media(max-width:690px){.drag-column{margin-bottom:30px}}.drag-column h2{font-size:.8rem;margin:0;text-transform:uppercase;font-weight:600}.drag-column-header{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;padding:10px}.drag-inner-list{min-height:50px;color:#fff}.drag-item{padding:10px;margin:10px;display:block;overflow:auto;background:rgba(0,0,0,.4);-webkit-transition:all .3s cubic-bezier(.23,1,.32,1);transition:all .3s cubic-bezier(.23,1,.32,1)}.drag-item.is-moving{-webkit-transform:scale(1.5);transform:scale(1.5);background:rgba(0,0,0,.8)}.drag-header-more{cursor:pointer}.drag-options{position:absolute;top:44px;left:0;width:100%;height:100%;padding:10px;-webkit-transform:translateX(100%);transform:translateX(100%);opacity:0;-webkit-transition:all .3s cubic-bezier(.23,1,.32,1);transition:all .3s cubic-bezier(.23,1,.32,1)}.drag-options.active{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}.drag-options-label{display:block;margin:0 0 5px}.drag-options-label input{opacity:.6}.drag-options-label span{display:inline-block;font-size:.9rem;font-weight:400;margin-left:5px}.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;list-style-type:none}.gu-hide{display:none!important}.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.gu-transit{opacity:.2}*{box-sizing:border-box}body{background:#33363d;color:#fff;font-family:Lato;font-weight:300;line-height:1.5;-webkit-font-smoothing:antialiased}.drag-column .drag-column-header>div{width:100%}.drag-column .drag-column-header>div h2>a{float:right}.drag-column .drag-column-footer>div{margin-left:10px}.drag-column .drag-column-footer>div a{text-decoration:none;color:#fff}.drag-column .drag-column-footer>div a:hover{text-decoration:underline}.drag-column-on-hold .drag-column-header,.drag-column-on-hold .drag-options,.drag-column-on-hold .is-moved{background:#fb7d44}.drag-column-in-progress .drag-column-header,.drag-column-in-progress .drag-options,.drag-column-in-progress .is-moved{background:#2a92bf}.drag-column-needs-review .drag-column-header,.drag-column-needs-review .drag-options,.drag-column-needs-review .is-moved{background:#f4ce46}.drag-column-approved .drag-column-header,.drag-column-approved .drag-options,.drag-column-approved .is-moved{background:#00b961}.section{padding:20px;text-align:center}.section a{color:#fff;text-decoration:none;font-weight:300}.section h4{font-weight:400}.section h4 a{font-weight:600}",""]),e.exports=t},393:function(e,t){e.exports=function(component,e){var t="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(t.directives=component.exports.options.directives),t.directives=t.directives||{},e)t.directives[i]=t.directives[i]||e[i]}},400:function(e,t,n){"use strict";n.r(t);n(89);var o,r,d,c,l=n(22),m=n(217),v=n(202),f={components:{TiptapVuetify:v.m},data:function(){return{create_dialog:!1,delete_dialog:!1,valid:!0,editedIndex:-1,editedItem:{title:"",content:"",status:""},extensions:[v.b,v.h,v.o,v.l,v.f,v.a,[v.e,{options:{levels:[1,2,3]}}],v.i,v.c,v.j,v.g,v.k,v.d],stages:["on-hold","in-progress","needs-review","approved"],stateMachineConfig:{id:"kanban",initial:"on-hold",states:{"on-hold":{on:{PICK_UP:"in-progress"}},"in-progress":{on:{RELINQUISH_TASK:"on-hold",PUSH_TO_QA:"needs-review"}},"needs-review":{on:{REQUEST_CHANGE:"in-progress",PASS_QA:"approved"}},approved:{type:"final"}}}}},created:(c=Object(l.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get_connected_board(this.$store.state.list_boards,this.connected_board,"card");case 2:t=e.sent,this.$store.dispatch("setCards",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)}),computed:{blocks:function(){return this.$store.state.list_cards},connected_board:function(){return this.$store.state.connected_board},formTitle:function(){return-1===this.editedIndex?"New Card":"Edit Card"}},methods:{updateBlock:(d=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),o=this.blocks[t],console.log(o),o.status=n,e.next=6,m.put_connected_board(this.$store.state.list_boards,this.connected_board,"card/"+o.id,o);case 6:this.$store.dispatch("updateCard",{item:o,index:t});case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)}),editItem:function(e){console.log(e),this.editedIndex=this.blocks.indexOf(e),this.editedItem=Object.assign({},e),this.create_dialog=!this.create_dialog},deleteItem:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$store.dispatch("removeCard",t),e.next=3,m.delete_connected_board(this.$store.state.list_boards,this.connected_board,"card/"+t);case 3:this.delete_dialog=!this.delete_dialog;case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),save:(o=Object(l.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.stages.indexOf(t),!this.$refs.cardForm[n].validate()){e.next=17;break}if(!(this.editedIndex>-1)){e.next=10;break}return e.next=5,m.put_connected_board(this.$store.state.list_boards,this.connected_board,"card/"+this.editedItem.id,this.editedItem);case 5:this.$store.dispatch("updateCard",{item:this.editedItem,index:this.editedIndex}),this.editedIndex=-1,this.editedItem={title:"",content:"",status:""},e.next=16;break;case 10:return e.next=12,m.post_connected_board(this.$store.state.list_boards,this.connected_board,"card",this.editedItem);case 12:console.log(this.editedItem),this.$store.dispatch("addCard",this.editedItem),this.editedIndex=-1,this.editedItem={title:"",content:"",status:""};case 16:this.create_dialog=!this.create_dialog;case 17:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)}),cancel:function(){this.editedIndex=-1,this.editedItem={title:"",content:"",status:""},this.create_dialog=!this.create_dialog,this.valid=!0}}},h=(n(379),n(64)),x=n(121),_=n.n(x),k=n(107),w=n(78),y=n(81),I=n(356),C=n(370),$=n(215),S=n(397),V=n(87),R=n(355),T=n(398),z=n(214),O=n(213),j=n(393),A=n.n(j),E=n(63),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("client-only",[-1!==e.connected_board?n("kanban-board",{attrs:{stages:e.stages,blocks:e.blocks,"state-machine-config":e.stateMachineConfig},on:{"update-block":e.updateBlock}},[e._l(e.stages,(function(t){return n("div",{key:t,attrs:{slot:t},slot:t},[n("h2",[e._v("\n        "+e._s(t)+"\n        "),n("v-dialog",{attrs:{fullscreen:""},scopedSlots:e._u([{key:"activator",fn:function(o){var r=o.on;return[n("v-btn",e._g({staticStyle:{float:"right"},attrs:{icon:"",small:""},on:{click:function(n){e.editedItem.status=t}}},r),[n("v-icon",[e._v("mdi-plus-circle")])],1)]}}],null,!0),model:{value:e.create_dialog,callback:function(t){e.create_dialog=t},expression:"create_dialog"}},[e._v(" "),n("v-card",[n("v-card-title",[n("v-btn",{attrs:{icon:""},on:{click:e.cancel}},[n("v-icon",[e._v("mdi-arrow-left")])],1),e._v(" "),n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])],1),e._v(" "),n("v-card-text",[n("v-form",{ref:"cardForm",refInFor:!0,attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{required:"",label:"Title Card"},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-select",{attrs:{items:e.stages,rules:[function(e){return!!e||"Item is required"}],label:"Stage",required:""},model:{value:e.editedItem.status,callback:function(t){e.$set(e.editedItem,"status",t)},expression:"editedItem.status"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("tiptap-vuetify",{attrs:{"toolbar-attributes":{color:"accent"},extensions:e.extensions,required:""},model:{value:e.editedItem.content,callback:function(t){e.$set(e.editedItem,"content",t)},expression:"editedItem.content"}})],1)],1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancel}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(n){return e.save(t)}}},[e._v("Save")])],1)],1)],1)],1)])})),e._v(" "),e._l(e.blocks,(function(t){return n("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,attrs:{slot:t.id},slot:t.id},[n("div",[n("strong",[e._v(e._s(t.title))])]),e._v(" "),n("div",[n("div",{domProps:{innerHTML:e._s(t.content)}}),e._v(" "),n("v-btn",{staticStyle:{float:"right"},attrs:{icon:"","x-small":"",dark:""},on:{click:function(n){return e.editItem(t)}}},[n("v-icon",[e._v("mdi-pencil")])],1),e._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"290","retain-focus":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({staticStyle:{float:"right"},attrs:{icon:"","x-small":"",dark:""}},o),[n("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0),model:{value:e.delete_dialog,callback:function(t){e.delete_dialog=t},expression:"delete_dialog"}},[e._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Delete a card!")]),e._v(" "),n("v-card-text",[e._v("Are you sure you want to delete this card? This action is\n              irreversible!")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"warning",text:""},on:{click:function(t){e.delete_dialog=!e.delete_dialog}}},[e._v("Disagree")]),e._v(" "),n("v-btn",{attrs:{color:"error",text:""},on:{click:function(n){return e.deleteItem(t.id)}}},[e._v("Agree")])],1)],1)],1)],1)])}))],2):n("v-card",[n("v-card-text",[e._v("Your are not connected to any board!")]),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{to:"/",nuxt:"",color:"info"}},[e._v("Click here to choose a board")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;_()(component,{VBtn:k.a,VCard:w.a,VCardActions:y.a,VCardText:y.b,VCardTitle:y.c,VCol:I.a,VContainer:C.a,VDialog:$.a,VForm:S.a,VIcon:V.a,VRow:R.a,VSelect:T.a,VSpacer:z.a,VTextField:O.a}),A()(component,{Ripple:E.a})}}]);